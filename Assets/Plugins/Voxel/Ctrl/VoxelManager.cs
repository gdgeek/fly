using UnityEngine;
using System.Collections;
namespace GDGeek{

	public class VoxelManager : MonoBehaviour {
		public VoxelMesh _prototype = null;

		private VoxelMesh _create ()
		{
			VoxelMesh mesh = (VoxelMesh)GameObject.Instantiate (_prototype);
			return mesh;
		}


		public VoxelMesh create(VoxelModel model){
			return create(model.data, model.gameObject.GetComponent<VoxelFunctionManager>());
		}

		public VoxelMesh create(VoxelData[] data, VoxelFunctionManager vf){
			
			VoxelMesh vm = _create();
			vm.build (data);
			if (vf != null) {
				vf.build(vm);			
			}
			vm.showMesh();
			return vm;
		}



	}
}
